#!/usr/bin/env perl

use strict;
use warnings;

my $host = $ARGV[0];

if ( $host ) {
    my $run = `ssh $host exit`;  # TODO : exists_ssh_host
    
    if ( $? ){
        print <<EOF;
    The host: $host is offline or not configured on 
    ssh config file. Please check your ssh config on 
    $ENV{HOME}/.ssh/config.
EOF
    }else{
        open my $fh , ">", "$ENV{HOME}/.rperl_remote" or die;
            print $fh "$host";
        close $fh;
    }
}else{
    open my $fh, "<", "$ENV{HOME}/.rperl_remote" or exit;
        print <$fh>;
    close $fh;
}
